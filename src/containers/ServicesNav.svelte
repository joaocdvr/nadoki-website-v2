<script>
  import { fade } from "svelte/transition";
  import {
    isMusicClicked,
    isFilmClicked,
    isGameClicked,
    isBrandingClicked,
    handleMusicClick,
    handleFilmClick,
    handleGameClick,
    handleBrandingClick,
    isAnyServiceClicked,
    animationInDelay,
    animationInDuration,
    animationInEasing,
    animationOutDuration,
    animationOutEasing
  } from "../utensils/stores.js";
</script>

<style>
  menu {
    padding: 1.5rem;
    line-height: 0;
  }

  button {
    width: 100vw;
    height: calc((100vh - 15.5rem) / 4);
    min-height: 2rem;
    margin-bottom: 0.5rem;
    border: none;
    cursor: pointer;
    transition: height 400ms ease-in-out, background-color 300ms ease-in-out;
  }

  button:focus {
    outline: none;
  }

  :global(.user-is-tabbing) button:focus {
    background-color: var(--secondary-color);
  }

  svg {
    fill: var(--dark);
    height: 100%;
    width: 100%;
    transition: height 400ms ease-in-out;
  }

  .last-button {
    margin-bottom: 0;
  }

  .button-is-small {
    height: 2rem;
  }

  .svg-is-small {
    height: 100%;
  }
</style>

<menu
  in:fade={{ delay: $animationInDelay, duration: $animationInDuration, easing: $animationInEasing }}
  out:fade={{ duration: $animationOutDuration, easing: $animationOutEasing }}>
  <button
    on:click={handleMusicClick}
    aria-label="Toggle music submenu"
    aria-pressed={$isMusicClicked}
    class:button-is-small={$isAnyServiceClicked}>
    <svg
      preserveAspectRatio="none"
      viewBox="0 0 312 32"
      xmlns="http://www.w3.org/2000/svg"
      class:svg-is-small={$isAnyServiceClicked}>
      <path
        d="M78.3984 0.986783V31.0602H64.7876V15.6476L47.3657
        31.0602H31.0327L13.6108 15.6946V31.0602H0V0.986783H13.6108L39.1448
        23.8238L64.7876 0.986783H78.3984Z" />
      <path
        d="M151.302 0.986783V16.0235C151.302 22.1008 148.417 26.2829 142.646
        28.5697C136.911 30.8566 129.38 32 120.052 32C113.845 32 108.455 31.5771
        103.882 30.7313C99.3452 29.8541 95.6794 28.2408 92.8846 25.8913C90.1262
        23.5105 88.7469 20.2212 88.7469 16.0235V0.986783H102.358V13.909C102.358
        16.3524 103.029 18.2477 104.372 19.5947C105.751 20.9104 107.711 21.8189
        110.252 22.3201C112.793 22.8213 116.059 23.072 120.052 23.072C123.935
        23.072 127.148 22.8213 129.688 22.3201C132.229 21.8189 134.189 20.8948
        135.568 19.5477C136.984 18.2007 137.692 16.3211 137.692
        13.909V0.986783H151.302Z" />
      <path
        d="M174.608 20.0176C174.97 20.9887 176.422 21.7406 178.963
        22.2731C181.504 22.8057 184.879 23.072 189.089 23.072C191.884 23.072
        194.044 23.0093 195.568 22.884C197.093 22.7274 198.182 22.4767 198.835
        22.1322C199.524 21.7562 199.869 21.255 199.869 20.6285C199.869 20.0333
        199.325 19.5791 198.236 19.2658C197.183 18.9212 195.35 18.6862 192.737
        18.5609C190.16 18.4356 186.367 18.373 181.359 18.373C174.099 18.373
        168.818 17.7621 165.515 16.5404C162.213 15.2873 160.561 13.2824 160.561
        10.5257C160.561 6.98581 162.666 4.35438 166.877 2.63142C171.123 0.877141
        177.529 0 186.095 0C194.443 0 200.813 1.04944 205.205 3.14831C209.633
        5.21586 211.847 8.20754 211.847 12.1233H197.746C197.564 11.0896 196.439
        10.3064 194.37 9.77386C192.302 9.20999 189.362 8.92805 185.551
        8.92805C181.703 8.92805 178.872 9.13167 177.057 9.53891C175.279 9.91483
        174.39 10.5414 174.39 11.4185C174.39 12.045 174.862 12.5149 175.805
        12.8282C176.749 13.1415 178.437 13.3607 180.868 13.486C183.3 13.6114
        186.948 13.674 191.812 13.674C196.966 13.674 201.103 13.9716 204.225
        14.5668C207.346 15.1307 209.615 16.0078 211.03 17.1982C212.446 18.3573
        213.153 19.8767 213.153 21.7562C213.153 24.1684 212.264 26.1263 210.486
        27.63C208.743 29.1023 205.985 30.1987 202.21 30.9192C198.472 31.6397
        193.554 32 187.456 32C181.758 32 176.822 31.5301 172.648 30.5903C168.474
        29.6192 165.28 28.2408 163.066 26.4552C160.851 24.6383 159.744 22.4924
        159.744 20.0176H174.608Z" />
      <path d="M236.274 0.986783V31.0602H222.663V0.986783H236.274Z" />
      <path
        d="M311.946 18.5139C311.655 23.025 308.951 26.4082 303.834
        28.6637C298.752 30.8879 291.076 32 280.804 32C273.363 32 267.175 31.5301
        262.239 30.5903C257.339 29.6505 253.546 28.0372 250.86 25.7504C248.211
        23.4322 246.886 20.2682 246.886 16.2584C246.886 12.2487 248.211 9.05335
        250.86 6.67254C253.546 4.29173 257.357 2.6001 262.293 1.59765C267.266
        0.563876 273.436 0.0469891 280.804 0.0469891C290.967 0.0469891 298.625
        1.25306 303.779 3.6652C308.969 6.04601 311.71 9.52325 312
        14.0969H297.845C297.083 12.4366 295.431 11.1679 292.89 10.2907C290.35
        9.41361 286.321 8.97504 280.804 8.97504C276.086 8.97504 272.293 9.22565
        269.425 9.72687C266.558 10.1968 264.453 10.9643 263.11 12.0294C261.767
        13.0945 261.095 14.5042 261.095 16.2584C261.095 17.8874 261.767 19.2031
        263.11 20.2056C264.453 21.1767 266.558 21.8972 269.425 22.3671C272.329
        22.837 276.122 23.072 280.804 23.072C286.248 23.072 290.241 22.6647
        292.781 21.8502C295.358 21.0357 297.028 19.9236 297.79 18.5139H311.946Z" />
    </svg>
  </button>
  <button
    on:click={handleFilmClick}
    aria-label="Toggle film submenu"
    aria-pressed={$isFilmClicked}
    class:button-is-small={$isAnyServiceClicked}>
    <svg
      preserveAspectRatio="none"
      viewBox="0 0 312 32"
      xmlns="http://www.w3.org/2000/svg"
      class:svg-is-small={$isAnyServiceClicked}>
      <path
        d="M19.112 9.5V13.75H66.5097V22.25H19.112V32H0V0H77.0595V9.5H19.112Z" />
      <path d="M110.309 0V32H91.197V0H110.309Z" />
      <path d="M189.656 22.5V32H125.975V0H145.087V22.5H189.656Z" />
      <path
        d="M312 0V32H292.888V15.6L268.425 32H245.49L221.027
        15.65V32H201.915V0H221.027L256.881 24.3L292.888 0H312Z" />
    </svg>
  </button>
  <button
    on:click={handleGameClick}
    aria-label="Toggle game submenu"
    aria-pressed={$isGameClicked}
    class:button-is-small={$isAnyServiceClicked}>
    <svg
      preserveAspectRatio="none"
      viewBox="0 0 312 32"
      xmlns="http://www.w3.org/2000/svg"
      class:svg-is-small={$isAnyServiceClicked}>
      <path
        d="M71.9075 31.0588H60.2597C60.2597 29.1451 60.9926 26.3529 62.4585
        22.6824C60.438 25.5686 57.0902 27.8431 52.4152 29.5059C47.7799 31.1686
        42.055 32 35.2406 32C23.9494 32 15.2531 30.8392 9.15186 28.5176C3.05062
        26.1647 0 22.0706 0 16.2353C0 10.3373 3.16948 6.16471 9.50843
        3.71765C15.887 1.23922 25.0587 0 37.0234 0C44.234 0 50.3353 0.533333
        55.3272 1.6C60.3587 2.63529 64.1819 4.14118 66.7967 6.11765C69.4115
        8.06274 70.8378 10.4 71.0755 13.1294H55.6243C53.6038 10.3373 47.4035
        8.94118 37.0234 8.94118C31.873 8.94118 27.7329 9.19216 24.6031
        9.69412C21.4732 10.1647 19.1753 10.9333 17.7095 12C16.2436 13.0667
        15.5106 14.4784 15.5106 16.2353C15.5106 18.5882 17.2736 20.3137 20.7997
        21.4118C24.3257 22.5098 30.1298 23.0588 38.212 23.0588C47.3243 23.0588
        54.4358 22.1804 59.5465 20.4235H40.2325V15.4824H71.9075V31.0588Z" />
      <path
        d="M127.285 26.4941H99.7104L95.9664 31.0588H79.6238L105.118
        0.941176H121.639L147.371 31.0588H131.029L127.285 26.4941ZM121.52
        19.4353L113.438 9.55294L105.415 19.4353H121.52Z" />
      <path
        d="M240.682 0.941176V31.0588H225.825V15.6235L206.808
        31.0588H188.98L169.963 15.6706V31.0588H155.106V0.941176H169.963L197.835
        23.8118L225.825 0.941176H240.682Z" />
      <path
        d="M312
        22.1176V31.0588H251.978V0.941176H311.881V9.88235H266.835V13.6471H303.68V18.3529H266.835V22.1176H312Z" />
    </svg>
  </button>
  <button
    on:click={handleBrandingClick}
    aria-label="Toggle branding submenu"
    aria-pressed={$isBrandingClicked}
    class:button-is-small={$isAnyServiceClicked}
    class="last-button">
    <svg
      preserveAspectRatio="none"
      viewBox="0 0 312 32"
      xmlns="http://www.w3.org/2000/svg"
      class:svg-is-small={$isAnyServiceClicked}>
      <path
        d="M26.2778 15.8118C28.9764 15.9686 31.0224 16.5333 32.416
        17.5059C33.8095 18.4471 34.5062 20.1255 34.5062 22.5412C34.5062 25.3961
        33.4556 27.5294 31.3542 28.9412C29.2529 30.3529 26.3221 31.0588 22.5618
        31.0588H0V0.941176H20.9028C23.8226 0.941176 26.1894 1.20784 28.0031
        1.74118C29.8391 2.24314 31.1994 3.0902 32.0842 4.28235C32.9911 5.44314
        33.4445 6.99608 33.4445 8.94118C33.4445 11.1059 32.8473 12.7216 31.6528
        13.7882C30.4584 14.8235 28.6667 15.498 26.2778 15.8118ZM8.29477
        9.78824V13.7412H21.1683C22.3406 13.7412 23.1811 13.5843 23.6899
        13.2706C24.2207 12.9569 24.4862 12.4549 24.4862 11.7647C24.4862 11.0745
        24.2207 10.5725 23.6899 10.2588C23.1811 9.9451 22.3406 9.78824 21.1683
        9.78824H8.29477ZM22.5618 22.2118C23.7341 22.2118 24.5746 22.0549 25.0834
        21.7412C25.6142 21.4275 25.8797 20.9255 25.8797 20.2353C25.8797 19.5451
        25.6142 19.0431 25.0834 18.7294C24.5746 18.4157 23.7341 18.2588 22.5618
        18.2588H8.29477V22.2118H22.5618Z" />
      <path
        d="M70.1621 19.7176C71.998 19.9686 73.2588 20.4549 73.9445
        21.1765C74.6523 21.898 75.0062 23.0431 75.0062
        24.6118V31.0588H66.7115V26.0235C66.7115 25.0196 66.5787 24.298 66.3133
        23.8588C66.0479 23.3882 65.506 23.0588 64.6875 22.8706C63.8691 22.6824
        62.553 22.5882 60.7392
        22.5882H47.7662V31.0588H39.4714V0.941176H65.1189C68.3925 0.941176
        70.9805 1.75686 72.8828 3.38824C74.8072 4.98824 75.7693 7.62353 75.7693
        11.2941C75.7693 13.8667 75.2717 15.8118 74.2763 17.1294C73.303 18.4157
        71.9316 19.2784 70.1621 19.7176ZM65.1189 14.7294C65.8488 14.7294 66.4239
        14.5726 66.8442 14.2588C67.2644 13.9137 67.4746 13.3176 67.4746
        12.4706C67.4746 11.0588 66.6893 10.3529 65.1189
        10.3529H47.7662V14.7294H65.1189Z" />
      <path
        d="M106.64 26.4941H91.2448L89.1545 31.0588H80.0303L94.2641
        0.941176H103.488L117.854 31.0588H108.73L106.64 26.4941ZM103.422
        19.4353L98.9092 9.55294L94.43 19.4353H103.422Z" />
      <path
        d="M160.661 0.941176V31.0588H152.366L130.468
        13.0824V31.0588H122.173V0.941176H130.468L152.366
        19.2471V0.941176H160.661Z" />
      <path
        d="M190.847 0.941176C200.845 0.941176 205.844 5.96078 205.844 16C205.844
        18.8235 205.357 21.3647 204.384 23.6235C203.411 25.851 201.807 27.6549
        199.573 29.0353C197.339 30.3843 194.43 31.0588 190.847
        31.0588H166.958V0.941176H190.847ZM190.515 21.6471C192.948 21.6471
        194.674 21.1922 195.691 20.2824C196.709 19.3726 197.217 17.9451 197.217
        16C197.217 14.0549 196.709 12.6275 195.691 11.7176C194.674 10.8078
        192.948 10.3529 190.515 10.3529H175.253V21.6471H190.515Z" />
      <path d="M220.601 0.941176V31.0588H212.306V0.941176H220.601Z" />
      <path
        d="M265.888 0.941176V31.0588H257.593L235.695
        13.0824V31.0588H227.4V0.941176H235.695L257.593 19.2471V0.941176H265.888Z" />
      <path
        d="M312 31.0588H305.497C305.497 29.1451 305.906 26.3529 306.725
        22.6824C305.596 25.5686 303.727 27.8431 301.117 29.5059C298.529 31.1686
        295.333 32 291.529 32C285.224 32 280.369 30.8392 276.963 28.5176C273.557
        26.1647 271.853 22.0706 271.853 16.2353C271.853 10.3373 273.623 6.16471
        277.162 3.71765C280.723 1.23922 285.844 0 292.524 0C296.55 0 299.956
        0.533333 302.743 1.6C305.552 2.63529 307.687 4.14118 309.147
        6.11765C310.606 8.06274 311.403 10.4 311.535 13.1294H302.909C301.781
        10.3373 298.319 8.94118 292.524 8.94118C289.648 8.94118 287.337 9.19216
        285.589 9.69412C283.842 10.1647 282.559 10.9333 281.741 12C280.922
        13.0667 280.513 14.4784 280.513 16.2353C280.513 18.5882 281.497 20.3137
        283.466 21.4118C285.435 22.5098 288.675 23.0588 293.187 23.0588C298.275
        23.0588 302.245 22.1804 305.099 20.4235H294.316V15.4824H312V31.0588Z" />
    </svg>
  </button>
</menu>
